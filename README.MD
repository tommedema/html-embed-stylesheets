# html-embed-stylesheets

Insert html and receive back html with all stylesheets embedded. Can resolve relative urls inside stylesheets to a given root url.

## Improvements
- consider @import statements inside stylesheets
- improve css url regex to not capture whitespace after uri, e.g. in case of `url( https://img.itch.zone/aW1hZ2UvMTgyMjY4Lzg1MTg3MC5wbmc=/300x240%23c/EWraUT.png );`

<!-- Generated by documentation.js. Update this documentation by updating the source code. -->

### Table of Contents

-   [embedStylesheets](#embedstylesheets)

## embedStylesheets

Insert html and receive back html with all stylesheets embedded. Can resolve relative urls inside stylesheets to a given root url.

**Parameters**

-   `html` **[string](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String)** the HTML to parse for stylesheets
-   `opts` **{resolveTo: [string](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String), download: [Boolean](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Boolean)}** object with options.
    `resolveTo` defines to which root url discovered urls in stylesheets should be resolved.
    `download` defines whether resolved stylesheets should be downloaded and embedded, defaults to true.

**Examples**

```javascript
const embedStylesheets = require('html-embed-stylesheets')

async function main () {
  const { html } = await embedStylesheets(html, { resolveTo: 'https://www.example.com' })
  console.log(html)
}

main()
```

Returns **{html: [string](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String), stylesheetUrls: \[[string](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String)], stylesheets: \[[string](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String)]}** an object returning the html with stylesheets embedded, an array of unique stylesheet urls that were found, and an array of stylesheets with inner urls resolved.

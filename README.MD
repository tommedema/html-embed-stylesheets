# html-embed-stylesheets

Insert html and receive back html with all stylesheets embedded. Can resolve relative urls inside stylesheets to a given root url.

## ToDo
- ~~create e2e suite based on final html output without scripts~~
- ~~define API~~
- find preload links and style tags with cheerio
- resolve the found stylesheet urls
- download each stylesheet
- resolve each relative url in the stylesheet, ignoring element identifiers (e.g. for svgs)
- embed the stylesheet in the resulting html
- return the html

## Improvements
- consider @import statements inside stylesheets

<!-- Generated by documentation.js. Update this documentation by updating the source code. -->

### Table of Contents

-   [embedStylesheets](#embedstylesheets)

## embedStylesheets

Insert html and receive back html with all stylesheets embedded. Can resolve relative urls inside stylesheets to a given root url.

**Parameters**

-   `html` **[string](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String)** the HTML to parse for stylesheets
-   `opts` **{resolveTo: [string](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String)}** object with options.
    `resolveTo` defines to which root url discovered urls in stylesheets should be resolved. (optional, default `{}`)

**Examples**

```javascript
const embedStylesheets = require('html-embed-stylesheets')

async function main () {
  const html = await embedStylesheets(html, { resolveTo: 'https://www.example.com' })
  console.log(html)
}

main()
```

Returns **[string](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String)** html - the HTML with stylesheets embedded
